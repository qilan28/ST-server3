# Nginx é…ç½®ç›®å½•

æœ¬ç›®å½•åŒ…å« Nginx åå‘ä»£ç†é…ç½®ç›¸å…³æ–‡ä»¶ã€‚

## ğŸ“ æ–‡ä»¶è¯´æ˜

- `nginx.conf.template` - Nginx é…ç½®æ¨¡æ¿æ–‡ä»¶ï¼ˆæ‰‹åŠ¨ç¼–è¾‘ï¼‰
- `nginx.conf` - è‡ªåŠ¨ç”Ÿæˆçš„é…ç½®æ–‡ä»¶ï¼ˆç”±è„šæœ¬ç”Ÿæˆï¼Œä¸è¦æ‰‹åŠ¨ç¼–è¾‘ï¼‰

## ğŸš€ å¿«é€Ÿä½¿ç”¨

### 1. åœ¨ç®¡ç†å‘˜é¢æ¿é…ç½®

1. ç™»å½•ç®¡ç†å‘˜é¢æ¿ï¼š`http://ä½ çš„IP:3000/admin.html`
2. åœ¨ **âš™ï¸ ç³»ç»Ÿé…ç½®** åŒºåŸŸè®¾ç½®ï¼š
   - å¯ç”¨ Nginx æ¨¡å¼ï¼ˆæ‰“å¼€å¼€å…³ï¼‰
   - åŸŸåï¼šè¾“å…¥æ‚¨çš„ IP æˆ–åŸŸå
   - ç«¯å£ï¼šè¾“å…¥ Nginx ç›‘å¬ç«¯å£
3. ç‚¹å‡» **ä¿å­˜é…ç½®**

> **æ³¨æ„ï¼š** Nginx é…ç½®ç°åœ¨é€šè¿‡ç®¡ç†å‘˜é¢æ¿ç®¡ç†ï¼Œä¸å†ä½¿ç”¨ `.env` æ–‡ä»¶

### 2. ç”Ÿæˆé…ç½®æ–‡ä»¶

**é€šè¿‡ç®¡ç†å‘˜é¢æ¿ï¼š**
- ç‚¹å‡» **ç”Ÿæˆ Nginx é…ç½®æ–‡ä»¶** æŒ‰é’®

**æˆ–é€šè¿‡å‘½ä»¤è¡Œï¼š**

```bash
npm run generate-nginx
```

è¿™å°†æ ¹æ®å½“å‰æ‰€æœ‰ç”¨æˆ·è‡ªåŠ¨ç”Ÿæˆ `nginx.conf` æ–‡ä»¶ã€‚

### 3. éƒ¨ç½²é…ç½®

#### ğŸš€ è‡ªåŠ¨éƒ¨ç½²ï¼ˆæ¨èï¼‰

ä½¿ç”¨è‡ªåŠ¨éƒ¨ç½²è„šæœ¬ï¼Œä¸€é”®å®Œæˆæ‰€æœ‰æ­¥éª¤ï¼š

```bash
npm run deploy-nginx
```

è¿™ä¸ªè„šæœ¬ä¼šè‡ªåŠ¨ï¼š
- âœ… å¤‡ä»½ç°æœ‰é…ç½®
- âœ… å¤åˆ¶æ–°é…ç½®åˆ° Nginx ç›®å½•
- âœ… åˆ›å»ºç¬¦å·é“¾æ¥ï¼ˆå¦‚éœ€è¦ï¼‰
- âœ… æµ‹è¯•é…ç½®
- âœ… é‡è½½ Nginx

#### æ‰‹åŠ¨éƒ¨ç½²

**Ubuntu/Debian:**
```bash
# å¤åˆ¶é…ç½®æ–‡ä»¶
sudo cp nginx.conf /etc/nginx/sites-available/sillytavern
sudo ln -s /etc/nginx/sites-available/sillytavern /etc/nginx/sites-enabled/

# æµ‹è¯•é…ç½®
sudo nginx -t

# é‡è½½ Nginx
sudo systemctl reload nginx
```

**CentOS/RHEL:**
```bash
# å¤åˆ¶é…ç½®æ–‡ä»¶
sudo cp nginx.conf /etc/nginx/conf.d/sillytavern.conf

# æµ‹è¯•é…ç½®
sudo nginx -t

# é‡è½½ Nginx
sudo systemctl reload nginx
```

**Windows:**
```bash
# å¤åˆ¶é…ç½®æ–‡ä»¶
copy nginx.conf C:\nginx\conf\nginx.conf

# æµ‹è¯•é…ç½®
cd C:\nginx
nginx -t

# é‡è½½é…ç½®
nginx -s reload
```

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **æ¯æ¬¡æ·»åŠ æˆ–åˆ é™¤ç”¨æˆ·å**ï¼Œéœ€è¦é‡æ–°è¿è¡Œ `npm run generate-nginx` å¹¶é‡è½½ Nginx
2. **ç”Ÿæˆçš„ nginx.conf** ä¸åº”è¯¥è¢«æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ï¼ˆå·²åœ¨ .gitignore ä¸­ï¼‰
3. **æ¨¡æ¿æ–‡ä»¶** (`nginx.conf.template`) å¯ä»¥æ ¹æ®éœ€è¦è‡ªå®šä¹‰

## ğŸ”— è¯¦ç»†æ–‡æ¡£

å®Œæ•´çš„ Nginx é…ç½®æŒ‡å—è¯·å‚è€ƒï¼š[../NGINX-SETUP.md](../NGINX-SETUP.md)
